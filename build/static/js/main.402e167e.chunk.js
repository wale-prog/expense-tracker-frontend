(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(37),c=a.n(s),l=(a(48),a(8)),r=a(5),i=a(24),o=a(4),u=(a(49),a(50),a(2)),d=function(e){var t="card ".concat(e.className);return Object(u.jsx)("div",{className:t,children:e.children})},j=(a(52),function(e){var t=Object(n.useState)(""),a=Object(r.a)(t,2),s=a[0],c=a[1];return Object(u.jsx)("div",{className:"expenses-filter",children:Object(u.jsxs)("div",{className:"expenses-filter__control",children:[Object(u.jsxs)("div",{className:"expense-filter__year",children:[Object(u.jsx)("label",{children:"Filter by year"}),Object(u.jsx)("select",{value:e.selected,onChange:function(t){e.onYearChange(t.target.value)},children:[{value:"",text:"Year",className:"year-filter__disabled",disabled:!0},{value:"2022",text:"2022"},{value:"2021",text:"2021"},{value:"2020",text:"2020"},{value:"2019",text:"2019"}].map((function(e){return Object(u.jsx)("option",{value:e.value,disabled:e.disabled,className:e.className,children:e.text},e.value)}))})]}),Object(u.jsxs)("div",{className:"expense-filter__category",children:[Object(u.jsx)("label",{children:"Filter by Category"}),Object(u.jsxs)("select",{value:s,onChange:function(e){c(e.target.value)},children:[Object(u.jsx)("option",{className:"category-filter",disabled:!0,value:"",children:"Category"}),Object(u.jsx)("option",{value:"Car",children:"Car"}),Object(u.jsx)("option",{value:"Home",children:"Home"})]})]})]})})}),b=(a(53),a(54),function(e){var t=e.date.toLocaleString("en-US",{month:"long"}),a=e.date.getFullYear(),n=e.date.toLocaleString("en-US",{day:"2-digit"});return Object(u.jsxs)("div",{className:"expense-date",children:[Object(u.jsx)("div",{className:"expense-date__month",children:t}),Object(u.jsx)("div",{className:"expense-date__year",children:a}),Object(u.jsx)("div",{className:"expense-date__day",children:n})]})}),x=(a(55),function(e){return Object(u.jsx)("li",{children:Object(u.jsxs)(d,{className:"expense-item",children:[Object(u.jsx)(b,{date:e.date}),Object(u.jsxs)("div",{className:"expense-item__description",children:[Object(u.jsx)("h2",{children:e.title}),Object(u.jsxs)("div",{className:"expense-item__price",children:["$",e.amount]})]})]})})}),O=function(e){return 0===e.items.length?Object(u.jsx)("h2",{className:"expenses-list__fallback",children:"No expense found."}):Object(u.jsx)("ul",{className:"expenses-list",children:e.items.map((function(e){return Object(u.jsx)(x,{title:e.title,amount:e.amount,date:e.date},e.id)}))})},h=a(14),m=(a(56),a(57),function(e){var t="0%";return e.maxValue>0&&(t=Math.round(e.value/e.maxValue*100)+"%"),Object(u.jsxs)("div",{className:"chart-bar",children:[Object(u.jsx)("div",{className:"chart-bar__inner",children:Object(u.jsx)("div",{className:"chart-bar__fill",style:{height:t}})}),Object(u.jsx)("div",{className:"chart-bar__label",children:e.label})]})}),p=function(e){var t=e.chart.map((function(e){return e.value})),a=Math.max.apply(Math,Object(l.a)(t));return Object(u.jsx)("div",{className:"chart",children:e.chart.map((function(e){return Object(u.jsx)(m,{value:e.value,maxValue:a,label:e.label},e.label)}))})},v=function(e){var t,a=[{label:"Jan",value:0},{label:"Feb",value:0},{label:"Mar",value:0},{label:"Apr",value:0},{label:"May",value:0},{label:"Jun",value:0},{label:"Jul",value:0},{label:"Aug",value:0},{label:"Sep",value:0},{label:"Oct",value:0},{label:"Nov",value:0},{label:"Dec",value:0}],n=Object(h.a)(e.expenses);try{for(n.s();!(t=n.n()).done;){var s=t.value;a[s.date.getMonth()].value+=s.amount}}catch(c){n.e(c)}finally{n.f()}return Object(u.jsx)(p,{chart:a})},f=function(e){var t=Object(n.useState)("2020"),a=Object(r.a)(t,2),s=a[0],c=a[1],l=e.items.filter((function(e){return e.date.getFullYear()===Number(s)}));return Object(u.jsx)("div",{children:Object(u.jsxs)(d,{className:"expenses",children:[Object(u.jsx)(j,{selected:s,onYearChange:function(e){c(e)}}),Object(u.jsx)(v,{expenses:l}),Object(u.jsx)(O,{items:l})]})})},g=a(13),_=(a(58),a(59),function(e){var t=Object(n.useState)(""),a=Object(r.a)(t,2),s=a[0],c=a[1],l=Object(n.useState)(""),i=Object(r.a)(l,2),o=i[0],d=i[1],j=Object(n.useState)(""),b=Object(r.a)(j,2),x=b[0],O=b[1];return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a={title:s,amount:Number(o),date:new Date(x)};e.onSaveExpenseData(a),e.onCancel(),d(""),O(""),c("")},children:[Object(u.jsxs)("div",{className:"new-expense__controls",children:[Object(u.jsxs)("div",{className:"new-expense__control",children:[Object(u.jsx)("label",{children:"Title"}),Object(u.jsx)("input",{onChange:function(e){c(e.target.value)},type:"text",value:s})]}),Object(u.jsxs)("div",{className:"new-expense__control",children:[Object(u.jsx)("label",{children:"Amount"}),Object(u.jsx)("input",{type:"number",onChange:function(e){d(e.target.value)},value:o,min:"0.01",step:"0.01"})]}),Object(u.jsxs)("div",{className:"new-expense__control",children:[Object(u.jsx)("label",{children:"Date"}),Object(u.jsx)("input",{type:"date",onChange:function(e){O(e.target.value)},value:x,min:"2019-01-01",max:"2022-12-31"})]})]}),Object(u.jsxs)("div",{className:"new-expense__actions",children:[Object(u.jsx)("button",{type:"button",onClick:e.onCancel,children:"Cancel"}),Object(u.jsx)("button",{type:"submit",children:" Add Expense "})]})]})})}),N=function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),s=a[0],c=a[1],l=function(){c(!s)};return Object(u.jsxs)("div",{className:"new-expense",children:[!s&&Object(u.jsx)("button",{onClick:l,children:"Add New Expense"}),s&&Object(u.jsx)(_,{onCancel:l,onSaveExpenseData:function(t){var a=Object(g.a)(Object(g.a)({},t),{},{id:Math.random().toString()});console.log(a),e.onAddExpense(a)}})]})},w=function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(N,{onAddExpense:e.onAddExpense}),Object(u.jsx)(f,{items:e.items}),Object(u.jsxs)("h2",{children:["Status: ",e.loggedInStatus]})]})},S=a(7),y=a(32),C=function(e){var t=Object(o.l)(),a=Object(n.useState)({email:"",password:"",password_confirmation:"",registrationErrors:""}),s=Object(r.a)(a,2),c=s[0],l=s[1],i=function(e){l((function(t){return Object(g.a)(Object(g.a)({},t),{},Object(S.a)({},e.target.name,e.target.value))}))};return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:function(a){var n=c.email,s=c.password,r=c.password_confirmation;y.a.post("http://localhost:3000/registrations",{user:{email:n,password:s,password_confirmation:r}},{withCredentials:!0}).then((function(a){"created"===a.data.status&&(e.handleSuccessfulAuth(a.data),t("/expense"))})).catch((function(e){l(Object(g.a)(Object(g.a)({},c),{},{registrationErrors:e}))})),a.preventDefault()},children:[Object(u.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:c.email,onChange:i,required:!0}),Object(u.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:c.password,onChange:i,required:!0}),Object(u.jsx)("input",{type:"password",name:"password_confirmation",placeholder:"Password Confirmation",value:c.password_confirmation,onChange:i,required:!0}),Object(u.jsx)("button",{type:"submit",children:"Sign up"})]})})},E=function(e){var t=Object(o.l)(),a=Object(n.useState)({email:"",password:"",loginErrors:""}),s=Object(r.a)(a,2),c=s[0],l=s[1],i=function(e){l((function(t){return Object(g.a)(Object(g.a)({},t),{},Object(S.a)({},e.target.name,e.target.value))}))};return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:function(a){var n=c.email,s=c.password;console.log(c),y.a.post("http://localhost:3000/sessions",{user:{email:n,password:s}},{withCredentials:!0}).then((function(a){a.data.logged_in&&(e.handleSuccessfulAuth(a.data),t("/expense"))})).catch((function(e){console.log("errors from login",e)})),a.preventDefault()},children:[Object(u.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:c.email,onChange:i,required:!0}),Object(u.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:c.password,onChange:i,required:!0}),Object(u.jsx)("button",{type:"submit",children:"Login"})]})})},D=[{id:"e1",title:"Toilet Paper",amount:94.12,date:new Date(2020,7,14)},{id:"e2",title:"New TV",amount:799.49,date:new Date(2021,2,12)},{id:"e3",title:"Car Insurance",amount:294.67,date:new Date(2021,2,28)},{id:"e4",title:"New Desk (Wooden)",amount:450,date:new Date(2021,5,12)},{id:"e5",title:"New Computer",amount:700,date:new Date(2022,4,25)}],A=function(){var e=Object(n.useState)(D),t=Object(r.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)({loggedInStatus:"NOT_LOGGED_IN",user:{}}),d=Object(r.a)(c,2),j=d[0],b=d[1],x=function(e){s((function(t){return[e].concat(Object(l.a)(t))}))},O=function(e){b({loggedInStatus:"LOGGED_IN",user:e.user})};return Object(u.jsx)("div",{children:Object(u.jsx)(i.a,{children:Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"registrations",element:Object(u.jsx)(C,{handleSuccessfulAuth:O})}),Object(u.jsx)(o.a,{exact:!0,path:"login",element:Object(u.jsx)(E,{handleSuccessfulAuth:O})}),Object(u.jsx)(o.a,{exact:!0,path:"/",element:Object(u.jsx)(w,{onAddExpense:x,items:a,loggedInStatus:j.loggedInStatus})}),Object(u.jsx)(o.a,{exact:!0,path:"/expense",element:Object(u.jsx)(w,{onAddExpense:x,items:a,loggedInStatus:j.loggedInStatus})})]})})})};c.a.createRoot(document.getElementById("root")).render(Object(u.jsx)(A,{}))}},[[64,1,2]]]);
//# sourceMappingURL=main.402e167e.chunk.js.map